server:
  name: "advanced-example"
  protocol: "http"
  address: ":8080"
  
  # 超时配置
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s
  
  # 静态文件服务
  static:
    enabled: true
    root: "./public"
    prefix: "/static"
    index:
      - "index.html"
    browse: false
  
  # Cookie 配置
  cookie:
    domain: ""
    path: "/"
    max_age: 86400
    secure: false
    http_only: true
    same_site: "lax"
  
  # Session 配置
  session:
    enabled: true
    provider: "memory"
    cookie_name: "session_id"
    max_age: 3600
  
  # 中间件配置
  middleware:
    # 核心中间件 (默认启用)
    enable_trace: true     # 追踪中间件
    enable_logger: true    # 日志中间件
    enable_recovery: true  # 恢复中间件
    
    # CORS 中间件 (默认禁用)
    enable_cors: false
    cors:
      allow_origins: "*"
      allow_methods: "GET,POST,PUT,DELETE,PATCH,HEAD,OPTIONS"
      allow_headers: "*"
      allow_credentials: false
      expose_headers: ""
      max_age: 3600
    
    # 超时中间件 (默认禁用)
    enable_timeout: false
    timeout: "30s"  # 超时时间
    
    # 限流中间件 (默认禁用)
    enable_rate_limit: false
    rate_limit:
      max_requests: 100      # 最大请求数
      window: "1m"           # 时间窗口
  
  # 访问日志
  access_log:
    enabled: true
    level: "info"
    format: "json"
    output: "stdout"
  
  # 错误日志
  error_log:
    enabled: true
    level: "error"
    format: "json"
    output: "stderr"
